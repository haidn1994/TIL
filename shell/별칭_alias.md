## type, alias, unalias를 이용한 나만의 명령어 만들기

> 주의: 이 방법은 해당 쉘 세션이 실행 중일 때만, 식별자와 명령어(또는 명령어 모음) 사이의 바인딩이 보장된다.  
> 그 이후에는 바인딩이 사라지므로 이 문제를 해결하기 위해서는 다음 글을 참고하라.  

먼저 한 줄에 하나 이상의 명령어를 입력하는 것이 가능하다는 사실을 아는가?  

```
command1; command2; command3...
```

우리가 해 볼 예제는 DrRacket의 실행파일을 실행하는 명령어를 별칭으로 지정하여 사용하는 것이다.  
다음 예제를 보자.(그렇다. 사실 이 예제는 한 줄 이상에 여러 명령어를 입력할 필요는 없다.)  

```
foobar@ubuntu:~$ ~/drracket/drracket
```

당신이 먼저 해야 할 일은 새 명령어에 지어줄 이름을 생각하는 것이다.  
여기서 나는 DrRacket이라는 식별자를 이 명령어와 바인딩하려고 한다.  

```
foobar@ubuntu:~$ type DrRacket
DrRacket not found
```

좋다! DrRacket은 사용할 수 있다. 이제 별칭을 만들어 보자.

```
foobar@ubuntu:~$ alias DrRacket='~/drracket/drracket'
```
단, 주의할 점은 여기에 ~이 들어간다는 사실을 알아야 한다는 점이다.  
이건 사용자가 누구냐에 따라서 Shell이 다르게 해석한다는 사실을 알아야 한다.  


다시 본론으로 돌아가서 해당 식별자가 별칭이나 명령어, 프로그램의 이름으로 사용되고 있는지 확인하고 싶다면 type _string_ 을 사용하면 된다.  

```
foobar@ubuntu:~$ type DrRacket
DrRacket is an alias for ~/drracket/drracket
```
별칭을 삭제하려면 unalias 명령어를 입력하면 된다.


별칭을 정할 때 기존 명령어의 이름과 중복되지 않도록 일부러 피했으나 가끔은 중복하여 사용하는 것이 바람직 할 때도 있다. 일반적인 명령어를 실행할 때 자주 사용하는 옵션을 적용하여 별칭을 만들곤 한다. 예를 들면, 이전에 본 것처럼 ls명령어는 색상을 표시하기 위해 별칭을 사용하기도 한다.

```
foobar@ubuntu:~$ type ls
ls is an alias for ls --color=tty
```
사용자 환경에 정의된 모든 별칭을 확인하려면 별도의 인자 없이 alias 명령어를 사용하면 된다.  
리눅스 시스템에 기본적으로 설정된 몇 개의 별칭을 살펴보자. 그리고 각각의 별칭이 어떤 기능을 하고 있는지 살펴보자.

```
-='cd -'
...=../..
....=../../..
.....=../../../..
......=../../../../..

등등...
```

## 로그인 시에 환경을 설정하는 파일에 별칭을 추가하는 방법

먼저 쉘 세션에 대해서 알아야 하는데 쉘 세션은 2가지 종류가 있다.

1. 로그인 쉘 세션: 사용자 이름과 비밀번호 입력을 요구한다. 예를 들면 가상 콘솔 세션이 시작할 때다.
2. 비로그인 쉘 세션: 일반적으로 GUI환경에서 터미널 세션을 실행할 때 나타난다. 

로그인 쉘 세션까지 다루면 상당히 복잡하니까 여기서는 비로그인 쉘 세션만 다루도록 한다.  
비로그인 쉘 세션은 다음 표에 있는 시작 파일을 읽는다.

| 파일             | 내용                                                              |
|------------------|-------------------------------------------------------------------|
| /etc/bash.bashrc | 모든 사용자에게 적용되는 일반 환경설정                            |
| ~/.bashrc        | 개인 사용자 시작 파일. 일반 환경설정을 확장하거나 무시할 수 있다. |

비로그인 쉘은 이 시작파일을 읽는 것 뿐만 아니라 주로 로그인 쉘 같은 상위 프로세스로부터 환경 값을 물려 받는다.  

~/.bashrc 파일은 일반 사용자 관점에서 아마도 가장 중요한 파일일 것이다. 왜냐하면 항상 참조되는 파일이기 때문이다. 비로그인 쉘은 기본적으로 이 파일을 읽고, 로그인 쉘용의 시작파일 대부분은 ~./bashrc파일을 기본적으로 참조하도록 만들어지기 때문이다.  


따라서 우리는 GUI 환경에서 개인 사용자(root) 한정으로 쉘에 "DrRacket"을 입력으로 주었을 때 언제나 '~/drracket/drracket'을 실행하기만 하면 되니까 ~/.bashrc 파일을 수정하는 것으로 하겠다.  


~/.bashrc로 가서 맨 아래쪽에 다음 라인 문자열을 추가하자.

```
# execute DrRacket
alias DrRacket='~/drracket/drracket'
```
그리고 나서 쉘을 다시 시작하고 정상적으로 동작하는 지 알아보자.
아마 잘 될것이다. **당신의 쉘이 bash기반이라면** 당신이 zsh을 사용하고 있다면 _source .bashrc_ 조차도 동작하지 않을 것이다.  

### zsh 유저를 위한 팁

zsh을 사용하고 있다면 ~/.bashrc대신에 ~/.zshrc로 가서 명령어를 추가해주면 된다. 단 명령어를 입력할 때 다음과 같이 홑따옴표 대신에 쌍따옴표를 사용해주자.  

```
# execute DrRacket
alias DrRacket="~/drracket/drracket"
```
그리고 _source .bashrc_ 대신에 _source .zshrc_를 실행하면 된다.  





